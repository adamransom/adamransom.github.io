var stylefill={options:{externalCSS:!1},properties:{},allRules:{},sheets:[],sheetTexts:{},arraySliceShim:function(){"use strict";var e=Array.prototype.slice;try{e.call(document.documentElement)}catch(t){Array.prototype.slice=function(t,n){var i,l=this.length,s=[];if(this.charAt)for(i=0;l>i;i++)s.push(this.charAt(i));else for(i=0;i<this.length;i++)s.push(this[i]);return e.call(s,t,n||s.length)}}},setOptions:function(e){this.options=e},init:function(e){this.properties=e,this.arraySliceShim(),this.getStyleSheets()},loadStyles:function(e){var t=this.sheets[e];t?t.innerHTML?this.loadCSSinner(t,e):!stylefill.sheets[t.href]&&stylefill.options.externalCSS?stylefill.loadFile(t.href,e):stylefill.loadStyles(e+1):stylefill.runSheets()},loadCSSinner:function(e,t){this.sheetTexts["onpage"+t]=e.innerHTML,this.loadStyles(t+1)},loadFile:function(){var e;e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},options:function(e){this.options=e},init:function(e){this.properties=e,this.arraySliceShim(),this.getStyleSheets()},loadStyles:function(e){var t=this.sheets[e];t?t.innerHTML?this.loadCSSinner(t,e):!stylefill.sheets[t.href]&&stylefill.options.externalCSS?stylefill.loadFile(t.href,e):stylefill.loadStyles(e+1):stylefill.runSheets()},loadCSSinner:function(e,t){this.sheetTexts["onpage"+t]=e.innerHTML,this.loadStyles(t+1)},loadFile:function(e,t){var n;n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n.open("GET",e,!0),n.onreadystatechange=function(){4===this.readyState&&200===this.status?(stylefill.sheetTexts[e]=this.responseText,stylefill.loadStyles(t+1)):4===this.readyState&&0===this.status&&stylefill.loadStyles(t+1)},n.send(null)},getStyleSheets:function(){var e=Array.prototype.slice.call(document.querySelectorAll('link[href*=".css"]')),t=document.getElementsByTagName("style");if(t.length>0)for(i in t)t[i].innerHTML&&e.push(Array.prototype.slice.call(t)[i]);this.sheets=e,this.loadStyles(0)},runSheets:function(){for(sheet in this.sheetTexts)for(property in this.properties){var e=this.sheetTexts[sheet],t=this.properties[property];this.findRules(property,e,t)}},checkRule:function(e){var t=e.replace(/(^|-)([a-z])/g,function(e,t,n){return n.toUpperCase()});return"Webkit"+t in document.body.style||"Moz"+t in document.body.style||"O"+t in document.body.style||e in document.body.style?!0:void 0},findRules:function(e,t,n){var i={support:!1};if(t){if(this.checkRule(e))i.support=!0;else for(var l,s=RegExp("([^}{]+){([^}]+)?"+e.replace("-","\\-")+"[\\s\\t]*:[\\s\\t]*([^;]+)","gi"),r=0;l=s.exec(t);){var o=l[1].replace(/^([\s\n\r\t]+|\/\*.*?\*\/)+/,"").replace(/[\s\n\r\t]+$/,""),a=l[3];i["rule"+r]={selector:o,property:e,value:a},stylefill.allRules[o]||(stylefill.allRules[o]={}),stylefill.allRules[o][e]=a,r++}n(i)}},getStyleSheets:function(){var e=Array.prototype.slice.call(document.querySelectorAll('link[href*=".css"]')),t=document.getElementsByTagName("style");if(t.length>0)for(var n in t)t[n].innerHTML&&e.push(Array.prototype.slice.call(t)[n]);this.sheets=e,this.loadStyles(0)},runSheets:function(){for(var e in this.sheetTexts)for(var t in this.properties)if(this.sheetTexts.hasOwnProperty(e)&&this.properties.hasOwnProperty(t)){var n=this.sheetTexts[e],i=this.properties[t];this.findRules(t,n,i)}},checkRule:function(e){var t=e.replace(/(^|-)([a-z])/g,function(e,t,n){return n.toUpperCase()});return"Webkit"+t in document.body.style||"Moz"+t in document.body.style||"O"+t in document.body.style||e in document.body.style?!0:void 0},findRules:function(e,t,n){var i={support:!1};if(t){if(this.checkRule(e))i.support=!0;else for(var l,s=RegExp("([^}{]+){([^}]+)?"+e.replace("-","\\-")+"[\\s\\t]*:[\\s\\t]*([^;]+)","gi"),r=0;l=s.exec(t);){var o=l[1].replace(/^([\s\n\r\t]+|\/\*.*?\*\/)+/,"").replace(/[\s\n\r\t]+$/,""),a=l[3];i["rule"+r]={selector:o,property:e,value:a},stylefill.allRules[o]||(stylefill.allRules[o]={}),stylefill.allRules[o][e]=a,r++}n(i)}}},type={kerningPairs:function(e){var t=function(e,i){var l;if(1===e.nodeType){if(e=e.firstChild)do l=e.nextSibling,t(e,i);while(e=l)}else 3===e.nodeType&&n(e,i)},n=function(e,t){for(var n=e.textContent,i=n.split(""),l=e.parentNode,s=t.length;s-->0;)for(var r=t[s].replace(/^([\s\n\r\t]+|\/\*.*?\*\/)+/,"").replace(/[\s\n\r\t]+$/,""),o=r.match(/^(.)(.)\s/i),a=r.match(/\s(\-*[0-9.]+[a-z]+)$/i)[1],c=i.length;c-->0;){var u=i[c],p=i[c+1],f=RegExp("^(<span[^>]+>)*"+o[2]+"(</s*spans*>)*$","i");u===o[1]&&p&&p.match(f)&&(i[c]='<span style="letter-spacing:'+a+'">'+u+"</span>")}var h=document.createElement("div");for(h.innerHTML=i.join("");h.firstChild;)l.insertBefore(h.firstChild,e);l.removeChild(e)},i=function(){for(var n in e)if(e[n]&&"none"!==e[n])for(var i=e[n],l=document.querySelectorAll(i.selector),s=l.length,r=i.value,o=r.split(",");s-->0;){var a=l[s];t(a,o)}};window.addEventListener("load",i,!1)},ragAdjust:function(e){for(var t in e)for(var n=e[t],i=document.querySelectorAll(n.selector),l=i.length,s=/(\s|^|>)((aboard|about|above|across|after|against|along|amid|among|anti|around|before|behind|below|beneath|beside|besides|between|beyond|concerning|considering|despite|down|during|except|excepting|excluding|following|from|inside|into|like|minus|near|onto|opposite|outside|over|past|plus|regarding|round|save|since|than|that|this|through|toward|towards|under|underneath|unlike|until|upon|versus|with|within|without)\s)+/gi,r=/(\s|^)(([a-zA-Z-_(]{1,2}('|’)*[a-zA-Z-_,;]{0,1}?\s)+)/gi,o=/([-–—])\s/gi,a=/(<(strong|em|b|i|a)[^>]+>)(([^\s]+\s*){2,3})?(<\/(strong|em|b|i|a)>)/gi;l-->0;){var c=i[l],u=c.innerHTML;("prepositions"===n.value||"all"===n.value)&&(u=u.replace(s,function(e,t,n){return t+n.replace(/\s/gi,"&#160;")})),("small-words"===n.value||"all"===n.value)&&(u=u.replace(r,function(e,t,n){return t+n.replace(/\s/g,"&#160;")})),("dashes"===n.value||"all"===n.value)&&(u=u.replace(o,function(e){return e.replace(/\s/g,"&#160;")})),("emphasis"===n.value||"all"===n.value)&&(u=u.replace(a,function(e,t,n,i,l,s){return t+i.replace(/\s/gi,"&#160;")+s})),c.innerHTML=u}},maxFontSize:function(e){for(var t in e){var n=e[t];"none"!=n.value&&type.minMaxFontSize(n.selector)}},minFontSize:function(e){for(var t in e){var n=e[t];"none"!=n.value&&type.minMaxFontSize(n.selector)}},minMaxFontSize:function(e){var t=function(){for(var t=document.querySelectorAll(e),n=t.length;n-->0;){var i=t[n],l=stylefill.allRules[e],s=l["max-font-size"],r=l["min-font-size"];i.style.fontSize="";var o=parseFloat(window.getComputedStyle(i,null).getPropertyValue("font-size"));o>parseFloat(r)?o<parseFloat(s)||(i.style.fontSize=s):i.style.fontSize=r}};e&&(t(),window.addEventListener("resize",t,!1))},widowAdjust:function(e){var t=function(e){return e.replace(/-([a-zA-Z])/g,function(e){return e.replace("-","").toUpperCase()})},n=function(e){return e.innerText||e.textContent},i=function(e,t){e.innerHTML=t},l=function(e,t){if(e.offsetHeight>type.getStyle(e,"line-height",!0)){var i=e.childNodes,l=i.length-1,r=n(e),o=e.offsetHeight;if(r){for(l in i)i[l].innerHTML&&(i[l].style["line-height"]="1 !important");s(r,e,o,0,t)}}},s=function(e,t,n,l,r){var o=t.innerHTML;if(i(t,e.slice(0,-14)),t.offsetHeight<n)if("nonBreakingSpace"===r)i(t,o.replace(/\s([^\s]+)$/,"&#160;$1"));else{var a=r.match("padding")?1:5,c=r.match("padding")?l/100:l/1e3;r.match("Spacing")&&(a=-1*a),r.match("padding")&&(t.style.boxSizing="border-box"),t.style[r]=c+"em",i(t,o),500>l&&s(e,t,n,l+a,r)}else i(t,o)},r=function(){for(var n in e){var i=e[n];if(i){var s=document.querySelectorAll(i.selector),r=s.length,o=t(i.value);switch(o){case"paddingRight":case"nonBreakingSpace":case"paddingLeft":case"wordSpacing":case"letterSpacing":case void 0:for(;r-->0;)l(s[r],o);break;default:console.log("Invalid method. Please use either padding-right, padding-left, word-spacing, or letter-spacing.")}}}};window.addEventListener("load",r,!1)},getStyle:function(e,t,n){var i;return e.currentStyle?i=e.currentStyle[t.replace(/-([A-z])/gi,function(e,t){return t.toUpperCase()})]:window.getComputedStyle&&(i=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),n?parseFloat(i):i}};stylefill.setOptions({externalCSS:!1}),stylefill.init({"max-font-size":type.maxFontSize,"min-font-size":type.minFontSize,"kerning-pairs":type.kerningPairs,"rag-adjust":type.ragAdjust,"widow-adjust":type.widowAdjust});
